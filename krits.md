{% include mathjax %}

## § 3. Функції корисності в умовах ризику та невизначеності

Найважливішим застосуванням теорії очікуваної корисності є можливість формалізації процесу прийняття рішень в умовах ризику й невизначеності.

Задача прийняття рішень (ЗПР) є визначеною на наступній тріаді множин: $$X$$ &mdash; множина альтернатив; $$Y$$ &mdash; множина наслідків; $$S$$ &mdash; множина станів.

Множина $$S$$ є проявом стохастичної невизначеності у прийнятті рішень, причому конкретна інтерпретація станів залежить від формулювання задачі (наприклад, попит на ту чи іншу продукцію, погода і т. п.). Множину $$S$$ також називають множиною "станів природи" чи "станів зовнішнього середовища", щоб підкреслити властиву їй невизначеність і незалежність від ОПР.

Відомі дві форми взаємозв'язку тріади множин, кожній із яких відповідає своє визначення множини станів і свій підхід до оцінки очікуваної корисності альтернатив. Це &mdash; екстенсивна й нормальна форми.

В екстенсивній формі стан визначається як відображення альтернатив у наслідки $$s: X \to Y$$. Цей підхід сформульований Дж. фон Нейманом і О. Моргенштерном. При такій постановці множина станів природи задачі не фігурує. Стохастична невизначеність тут описується розподілом імовірностей на множині наслідків $$Y$$, що відповідають альтернативам із $$X$$. Переваги ОПР повинні бути виражені у вигляді функцій корисності $$f(y)$$, визначеній на множині наслідків $$Y$$. Очікувана корисність альтернативи $$x$$ може бути оціненою деякою функцією корисності (функціоналом) $$E(x) = E(f(y), p(x, y))$$, де $$p(x, y)$$ &mdash; розподіл ймовірностей на множині наслідків $$Y$$, що відповідають альтернативі $$x$$. Оскільки кожній альтернативі однозначно відповідає свій розподіл ймовірностей, то в такій постановці ЗПР можна говорити про вибір найкращого розподілу ймовірностей.

Для ЗПР у нормальній формі альтернативи $$x \in X$$ визначаються як відображення станів у наслідки $$x: S \to Y$$. Цей підхід було сформульовано Л. Севіджем. Тут множина станів $$S$$ фігурує в ЗПР, а стохастична невизначеність описується за допомогою одного незалежного від альтернатив розподілу ймовірностей на $$S$$ і задається відповідною щільністю $$p(s)$$, $$s \in S$$. Переваги ОПР, як і у попередньому випадку, задаються функціями корисності, але тепер вони будуються не на множині наслідків $$Y$$, а на множині $$X \times S$$, оскільки будь-який наслідок однозначно визначається парою $$(x, s) \in X \times S$$. Для ЗПР у нормальній формі очікувана корисність альтернативи $$x$$ може бути оціненою деякою функцією корисності (функціоналом) $$E(x) = E(f(x, s), p(x))$$.

За наявності фундаментальної погодженості (коли невизначеність вважається викликаною тими самими причинами) екстенсивна й нормальна форми ЗПР еквівалентні з погляду очікуваної корисності розглянутих альтернатив.

Розглянемо конкретні види функцій корисності (критеріїв) для нормальної форми ЗПР, які найчастіше вживаються в методах прийняття рішень.

### Мінімаксний критерій Вальда

Мінімаксний критерій (ММ) використовує функцію корисності альтернатив MM 

$$
E_{MM}(x) = \min\limits_{s \in S} f(x, s),
$$

що відповідає позиції крайньої обережності. Шукана альтернатива вибирається з умови 

$$
x^\star \in \arg \max\limits_{x \in X} E_{MM}(x) = \arg \max\limits_{x \in X} \min\limits_{s \in S} f(x, s).
$$

Обрані таким чином альтернативи цілком виключають ризик. Це означає, що які б стани природи $$s \in S$$ не реалізувалися, відповідний результат не може виявитися гіршим за $$E_{MM}(x^\star)$$. Ця властивість робить мінімаксний критерій одним із фундаментальних. Тому в практичних задачах він застосовується найчастіше.

### Критерій Байєса-Лапласа

На відміну від мінімаксного критерію, цей критерій враховує кожен із можливих наслідків альтернативи. Нехай $$p(s)$$ &mdash; імовірність появи стану $$s \in S$$, тоді для BL-критерію корисність кожної альтернативи характеризується математичним сподіванням корисностей її наслідків

$$
E_{BL}(x) = \int\limits_{s \in S} p(s) f(x, s) \, \mathrm{d} s.
$$

Шукана альтернатива вибирається з умови:

$$
x^\star \in \arg \max\limits_{x \in X} \int\limits_{s \in S} p(s) f(x, s) \, \mathrm{d} s = \arg \max\limits_{x \in X} \int\limits_{s \in S} p(s) f(x, s) \, \mathrm{d} s.
$$

### Критерій мінімізації дисперсії оцінки

Цей критерій використовують, коли ОПР, зацікавлена в отриманні "стійкого" щодо станів середовища рішення і відомо, що ймовірності станів середовища мають нормальний розподіл. При виборі цього критерію кожна альтернатива оцінюється дисперсією функції корисності її наслідків при всіх мінімізованих станах середовища:

$$
E_D(x) = \int\limits_{s \in S} p(s) \left( \int\limits_{s' \in S} p(s') f(x, s') \, \mathrm{d} s' - f(x, s) \right)^2 \mathrm{d} s = \int\limits_{s \in S} p(s) (E_{MM}(x) - f(x, s))^2 \, \mathrm{d} s.
$$

У свою чергу шукана альтернатива вибирається з умови

$$
x^\star \in \arg\min\limits_{x \in x} E_D(x) = \arg\min\limits_{x \in x} \int\limits_{s \in S} p(s) \left( \int\limits_{s' \in S} p(s') f(x, s') \, \mathrm{d} s' - f(x, s) \right)^2 \mathrm{d} s.
$$

### Критерій максимізації ймовірності

При використанні цього критерію ОПР фіксує величину оцінки функції корисності наслідків 

$$
f_0: \min\limits_{x \in X} \min\limits_{s \in S} f(x, s) \le f_0 \le \max\limits_{x \in X} \max\limits_{s \in S} f(x, s),
$$

яку він хоче ймовірно досягти.

Для кожної альтернативи $$x$$ визначається ймовірність $$\mathbb{P} \{ f(x, s) \ge f_0 \}$$ того, що функція корисності наслідків буде не менша за $$f_0$$ для кожного стану середовища $$s \in S$$. Критерій полягає в максимізації ймовірності досягнення значення заданої оцінки

$$
E_F(x) = \int\limits_{s \in S, f(x, s) \ge f_0} p(s) \, \mathrm{d} s,
$$

а шукана альтернатива вибирається з умови

$$
x^\star \in \arg\max\limits_{x \in X} E_F(x) = \arg\max\limits_{x \in X} \int\limits_{s \in S, f(x, s) \ge f_0} p(s) \, \mathrm{d} s.
$$

### Модальний критерій

Суть цього критерію полягає у виборі альтернативи, виходячи з найбільш імовірного стану середовища 

$$
s^\star \in S: s^\star = \arg\max\limits_{s \in S} p(s).$$

При використанні цього критерію ОПР вважає, що середовище знаходиться у стані $$S^\star$$ і вибирає альтернативу з критерію 

$$
E_{MOD}(x) = \max\limits_{x \in X} f(x, s^\star),$$

тобто з умови

$$
x^\star \in \arg\max\limits_{x \in X} f(x, \arg\max\limits_{s \in S} p(s)).
$$

### Критерій Севіджа (S-критерій)

За цим критерієм корисність кожної альтернативи характеризується

$$
E_{SE}(x) = \max\limits_{s \in S} (\max\limits_{x' \in X} f(x', s) - f(x, s)).
$$

Цю величину можна інтерпретувати як втрати (штрафи), що виникають у стані $$s \in S$$ при заміні оптимальної для неї альтернативи на альтернативу $$x$$. Тоді логічно приймати рішення за умовою мінімізації максимально можливих втрат:

$$
x^\star \in \arg\min\limits_{x \in X} \max\limits_{s \in S} (\max\limits_{x' \in X} f(x', s) - f(x, s)).
$$

### Критерій стабільності (V–критерій)

Із метою мати "максимальну незалежність від станів природи" ("мінімальну залежність") О. Волошин запропонував такий критерій "стабільності". За цим критерієм корисність кожної альтернативи характеризується величиною

$$
E_{ST}(x) = \max\limits_{s \in S} (\max\limits_{s' \in S} f(x, s') - f(x, s)).
$$

Цю величину можна інтерпретувати як втрати, що виникають при виборі альтернативи $$x \in X$$, при реалізації стану природи $$s \in S$$. Як оптимальну альтернативу логічно прийняти ту, для якої різниця між максимальним і мінімальним виграшами буде мінімальною, тобто розв'язок задачі прийняття рішень за V-критерієм вибирається з множини:

$$
x^\star \in \arg\min\limits_{x \in X} E_{ST}(x) = \arg\min\limits_{x \in X} \max\limits_{s \in S} (\max\limits_{s' \in S} f(x, s') - f(x, s)).
$$

### Критерій Гурвіца

Намагаючись зайняти найбільш урівноважену позицію, Л. Гурвіц запропонував критерій GW, функція корисності якого забезпечує компроміс між граничним оптимізмом і крайнім песимізмом. За цим критерієм корисність кожної альтернативи характеризується величиною 

$$
E_{GW}(x) = \alpha \cdot \max\limits_{s \in S} f(x, s) + (1 - \alpha) \cdot \min\limits_{s \in S} f(x, s),
$$

де $$\alpha \in [0, 1]$$ &mdash; ваговий коефіцієнт, що характеризує схильність ОПР до ризику.

Рішення приймається з умови:

$$
x^\star \in \arg\max\limits_{x \in X} E_{GW}(x) = \arg\max\limits_{x \in X} \left( \alpha \cdot \max\limits_{s \in S} f(x, s) + (1 - \alpha) \cdot \min\limits_{s \in S} f(x, s) \right).
$$

Для $$\alpha = 0$$ GW-критерій перетворюється в МM-критерій. Для $$\alpha = 1$$ він перетворюється у критерій азартного гравця. На практиці вибрати цей коефіцієнт буває так само важко, як правильно вибрати сам критерій. Навряд чи можливо знайти кількісну характеристику для тих часток оптимізму й песимізму, що присутні при прийнятті рішення. Тому найчастіше $$\alpha = 0.5$$ без заперечень приймається як деякої "середньої" точки зору.

Інколи величина $$\alpha$$ використовується для обґрунтування вже прийнятого рішення. Для рішення, що сподобалося, обчислюється ваговий коефіцієнт $$\alpha$$ і він інтерпретується як показник співвідношення оптимізму та песимізму. Таким чином, позиції, виходячи з яких приймаються рішення, можна розсортувати принаймні заднім числом.

### Критерій Ходжа–Лемана

Цей критерій спирається одночасно на ММ-критерій і ВL-критерій. Функція корисності альтернатив визначається як

$$
E_{HL}(x) = \alpha \int\limits_{s \in S} p(s) f(x, s) \, \mathrm{d} s + (1 - \alpha) \cdot \min\limits_{s \in S} f(x, s).
$$

Для $$\alpha = 0$$ HL-критерій перетворюється в МM-критерій, а для $$\alpha = 1$$ він перетворюється в BL-критерій. Ступінь впевненості $$\alpha \in [0, 1]$$ в будь-якому розподілі ймовірностей $$p(s)$$, $$s \in S$$, практично не піддається оцінці. Таким чином, вибір параметра $$\alpha$$ є повністю суб'єктивним. Крім того, без уваги залишається і число реалізацій рішень. Тому HL-критерій має досить обмежену галузь застосування.

### Критерій Гермейєра

За підходом Ю. Гермейєра до відшукання слабко ефективних рішень у задачах багатокритеріальної оптимізації можна запропонувати ще один критерій (GE).

Нехай множина станів є скінченною, а саме S = {s1,...,sn }. Не об-
межуючи загальності, будемо вважати u(x,s) < 0 (u(x,s) інтерпрету-
ються як витрати) ∀x ∈ X , ∀s ∈S , тоді функція корисності альтерна-
тив за GE-критерієм визначається як GE ( ) min ( ) ( , ) s S
E x psuxs
∈
= , а рішен-
ня приймається з умови:
* Argmax ( ) Argmaxmin ( ) ( , ) x X GE x X s S
x E x p s u x s
∈ ∈ ∈
∈ = .
Імовірності станів природи p(s), s ∈S , у цьому критерії можна ін-
терпретувати як вагові коефіцієнти функцій корисності u(x,s), s ∈S ,
наслідків, які хочемо одночасно максимізувати. За теоремою Ю. Гер-
мейєра про необхідну й достатню умови слабкої ефективності
(див. Розділ 4, § 3) фактично шуканий розв'язок x* визначається як
одна (відповідна ваговим коефіцієнтам p(s), s ∈S ) із слабко ефекти-
вних альтернатив задачі: ( , ) max,
x X
u x s s S
∈
→ ∈.
Якщо u(x,s) > 0, ∀x ∈ X , ∀s ∈S , то або можна перейти до від'ємних
значень із допомогою перетворення u(x,s) −a , відповідним чином пі-
дібравши a > 0 , або розглянути ( )
( ) min 1 ( , ) GE s S
E x uxs
∈ p s
= .